var e=function(e,t){t=t||{};var s,r=e.numberOfChannels,i=e.sampleRate,b=t.float32?3:1,c=3===b?32:16;s=2===r?function(e,a){var t=e.length+a.length,s=new Float32Array(t),r=0,i=0;for(;r<t;)s[r++]=e[i],s[r++]=a[i],i++;return s}(e.getChannelData(0),e.getChannelData(1)):e.getChannelData(0);return function(e,t,s,r,i){var b=i/8,c=r*b,k=new ArrayBuffer(44+e.length*b),f=new DataView(k);a(f,0,"RIFF"),f.setUint32(4,36+e.length*b,!0),a(f,8,"WAVE"),a(f,12,"fmt "),f.setUint32(16,16,!0),f.setUint16(20,t,!0),f.setUint16(22,r,!0),f.setUint32(24,s,!0),f.setUint32(28,s*c,!0),f.setUint16(32,c,!0),f.setUint16(34,i,!0),a(f,36,"data"),f.setUint32(40,e.length*b,!0),1===t?function(e,a,t){for(var s=0;s<t.length;s++,a+=2){var r=Math.max(-1,Math.min(1,t[s]));e.setInt16(a,r<0?32768*r:32767*r,!0)}}(f,44,e):function(e,a,t){for(var s=0;s<t.length;s++,a+=4)e.setFloat32(a,t[s],!0)}(f,44,e);return k}(s,b,i,r,c)};function a(e,a,t){for(var s=0;s<t.length;s++)e.setUint8(a+s,t.charCodeAt(s))}var t=/[AEIOUY]/,s=/W|K|CZ|WITZ/,r=/^(VAN |VON |SCH)/,i=/^(GN|KN|PN|WR|PS)/,b=/^CH(IA|EM|OR([^E])|YM|ARAC|ARIS)/,c=/ORCHES|ARCHIT|ORCHID/,k=/[ BFHLMNRVW]/,f=/[CGLRT]/,K=/Y[\s\S]|E[BILPRSY]|I[BELN]/,S=/^[DMR]ANGER/,n=/[EGIR]/,l=/[LTKSNMBZ]/,A=/AS|OS/,E=/EIM|OEK|OLM|OLZ/,I=/E[DMNR]|UY|OO/;function H(e){var a,H,R,C,N,O,X,T="",U="",M=0,J=e.length,o=J-1;for(e=String(e).toUpperCase()+"     ",a=s.test(e),H=r.test(e),X=e.split(""),i.test(e)&&M++,"X"===X[0]&&(T+="S",U+="S",M++);M<J;)switch(N=X[M-1],C=X[M+1],O=X[M+2],X[M]){case"A":case"E":case"I":case"O":case"U":case"Y":case"À":case"Ê":case"É":0===M&&(T+="A",U+="A"),M++;break;case"B":T+="P",U+="P","B"===C&&M++,M++;break;case"Ç":T+="S",U+="S",M++;break;case"C":if("A"===N&&"H"===C&&"I"!==O&&!t.test(X[M-2])&&("E"!==O||(R=e.slice(M-2,M+4))&&("BACHER"===R||"MACHER"===R))){T+="K",U+="K",M+=2;break}if(0===M&&"AESAR"===e.slice(M+1,M+6)){T+="S",U+="S",M+=2;break}if("HIA"===e.slice(M+1,M+4)){T+="K",U+="K",M+=2;break}if("H"===C){if(M>0&&"A"===O&&"E"===X[M+3]){T+="K",U+="X",M+=2;break}if(0===M&&b.test(e)){T+="K",U+="K",M+=2;break}H||c.test(e.slice(M-2,M+4))||"T"===O||"S"===O||(0===M||"A"===N||"E"===N||"O"===N||"U"===N)&&k.test(O)?(T+="K",U+="K"):0===M?(T+="X",U+="X"):"MC"===e.slice(0,2)?(T+="K",U+="K"):(T+="X",U+="K"),M+=2;break}if("Z"===C&&"WI"!==e.slice(M-2,M)){T+="S",U+="X",M+=2;break}if("CIA"===e.slice(M+1,M+4)){T+="X",U+="X",M+=3;break}if("C"===C&&(1!==M||"M"!==X[0])){if("I"!==O&&"E"!==O&&"H"!==O||"HU"===e.slice(M+2,M+4)){T+="K",U+="K",M+=2;break}R=e.slice(M-1,M+4),1===M&&"A"===N||"UCCEE"===R||"UCCES"===R?(T+="KS",U+="KS"):(T+="X",U+="X"),M+=3;break}if("G"===C||"K"===C||"Q"===C){T+="K",U+="K",M+=2;break}if("I"===C&&("E"===O||"O"===O)){T+="S",U+="X",M+=2;break}if("I"===C||"E"===C||"Y"===C){T+="S",U+="S",M+=2;break}if(T+="K",U+="K"," "===C&&("C"===O||"G"===O||"Q"===O)){M+=3;break}M++;break;case"D":if("G"===C){"E"===O||"I"===O||"Y"===O?(T+="J",U+="J",M+=3):(T+="TK",U+="TK",M+=2);break}if("T"===C||"D"===C){T+="T",U+="T",M+=2;break}T+="T",U+="T",M++;break;case"F":"F"===C&&M++,M++,T+="F",U+="F";break;case"G":if("H"===C){if(M>0&&!t.test(N)){T+="K",U+="K",M+=2;break}if(0===M){"I"===O?(T+="J",U+="J"):(T+="K",U+="K"),M+=2;break}if("B"===(R=X[M-2])||"H"===R||"D"===R||("B"===(R=X[M-3])||"H"===R||"D"===R)||("B"===(R=X[M-4])||"H"===R)){M+=2;break}M>2&&"U"===N&&f.test(X[M-3])?(T+="F",U+="F"):M>0&&"I"!==N&&(T+="K",U+="K"),M+=2;break}if("N"===C){1===M&&t.test(X[0])&&!a?(T+="KN",U+="N"):"EY"===e.slice(M+2,M+4)||"Y"===e.slice(M+1)||a?(T+="KN",U+="KN"):(T+="N",U+="KN"),M+=2;break}if("LI"===e.slice(M+1,M+3)&&!a){T+="KL",U+="L",M+=2;break}if(0===M&&K.test(e.slice(1,3))){T+="K",U+="J",M+=2;break}if("ER"===e.slice(M+1,M+3)&&"I"!==N&&"E"!==N&&!S.test(e.slice(0,6))||"Y"===C&&!n.test(N)){T+="K",U+="J",M+=2;break}if("E"===C||"I"===C||"Y"===C||("A"===N||"O"===N)&&"G"===C&&"I"===O){"ET"===e.slice(M+1,M+3)||H?(T+="K",U+="K"):(T+="J",U+="IER "===e.slice(M+1,M+5)?"J":"K"),M+=2;break}"G"===C&&M++,M++,T+="K",U+="K";break;case"H":t.test(C)&&(0===M||t.test(N))&&(T+="H",U+="H",M++),M++;break;case"J":if("JOSE"===e.slice(M,M+4)||"SAN "===e.slice(0,4)){"SAN "===e.slice(0,4)||0===M&&" "===X[M+4]?(T+="H",U+="H"):(T+="J",U+="H"),M++;break}0===M?(T+="J",U+="A"):a||"A"!==C&&"O"!==C||!t.test(N)?M===o?T+="J":"S"===N||"K"===N||"L"===N||l.test(C)?"J"===C&&M++:(T+="J",U+="J"):(T+="J",U+="H"),M++;break;case"K":"K"===C&&M++,T+="K",U+="K",M++;break;case"L":if("L"===C){if(M===J-3&&("A"===N&&"E"===O||"I"===N&&("O"===O||"A"===O))||"A"===N&&"E"===O&&("A"===X[o]||"O"===X[o]||A.test(e.slice(o-1,J)))){T+="L",M+=2;break}M++}T+="L",U+="L",M++;break;case"M":"M"!==C&&("U"!==N||"B"!==C||M+1!==o&&"ER"!==e.slice(M+2,M+4))||M++,M++,T+="M",U+="M";break;case"N":"N"===C&&M++,M++,T+="N",U+="N";break;case"Ñ":M++,T+="N",U+="N";break;case"P":if("H"===C){T+="F",U+="F",M+=2;break}"P"!==(R=C)&&"B"!==R||M++,M++,T+="P",U+="P";break;case"Q":"Q"===C&&M++,M++,T+="K",U+="K";break;case"R":M!==o||a||"E"!==N||"I"!==X[M-2]||"M"===X[M-4]||"E"===X[M-3]||"A"===X[M-3]?(T+="R",U+="R"):U+="R","R"===C&&M++,M++;break;case"S":if("L"===C&&("I"===N||"Y"===N)){M++;break}if(0===M&&"UGAR"===e.slice(1,5)){T+="X",U+="S",M++;break}if("H"===C){E.test(e.slice(M+1,M+5))?(T+="S",U+="S"):(T+="X",U+="X"),M+=2;break}if("I"===C&&("O"===O||"A"===O)){a?(T+="S",U+="S"):(T+="S",U+="X"),M+=3;break}if("Z"===C||0===M&&("L"===C||"M"===C||"N"===C||"W"===C)){T+="S",U+="X","Z"===C&&M++,M++;break}if("C"===C){if("H"===O){if(R=e.slice(M+3,M+5),I.test(R)){"ER"===R||"EN"===R?(T+="X",U+="SK"):(T+="SK",U+="SK"),M+=3;break}0!==M||t.test(X[3])||"W"===X[3]?(T+="X",U+="X"):(T+="X",U+="S"),M+=3;break}if("I"===O||"E"===O||"Y"===O){T+="S",U+="S",M+=3;break}T+="SK",U+="SK",M+=3;break}R=e.slice(M-2,M),M!==o||"AI"!==R&&"OI"!==R?(T+="S",U+="S"):U+="S","S"===C&&M++,M++;break;case"T":if("I"===C&&"O"===O&&"N"===X[M+3]){T+="X",U+="X",M+=3;break}if(R=e.slice(M+1,M+3),"I"===C&&"A"===O||"C"===C&&"H"===O){T+="X",U+="X",M+=3;break}if("H"===C||"T"===C&&"H"===O){H||("O"===O||"A"===O)&&"M"===X[M+3]?(T+="T",U+="T"):(T+="0",U+="T"),M+=2;break}"T"!==C&&"D"!==C||M++,M++,T+="T",U+="T";break;case"V":"V"===C&&M++,T+="F",U+="F",M++;break;case"W":if("R"===C){T+="R",U+="R",M+=2;break}if(0===M&&(t.test(C)?(T+="A",U+="F"):"H"===C&&(T+="A",U+="A")),("E"===N||"O"===N)&&"S"===C&&"K"===O&&("I"===X[M+3]||"Y"===X[M+3])||"SCH"===e.slice(0,3)||M===o&&t.test(N)){U+="F",M++;break}if("I"===C&&("C"===O||"T"===O)&&"Z"===X[M+3]){T+="TS",U+="FX",M+=4;break}M++;break;case"X":(M!==o||"U"!==N||"A"!==X[M-2]&&"O"!==X[M-2])&&(T+="KS",U+="KS"),"C"!==C&&"X"!==C||M++,M++;break;case"Z":if("H"===C){T+="J",U+="J",M+=2;break}"Z"===C&&("A"===O||"I"===O||"O"===O)||a&&M>0&&"T"!==N?(T+="S",U+="TS"):(T+="S",U+="S"),"Z"===C&&M++,M++;break;default:M++}return[T,U]}export{e as a,H as d};
